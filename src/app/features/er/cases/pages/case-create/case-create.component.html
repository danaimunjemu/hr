<div class="page-header">
  <h1 class="text-2xl font-bold mb-4">Create New Case</h1>
</div>

<nz-card>
  <form nz-form [formGroup]="form" (ngSubmit)="submit()" nzLayout="vertical">
    
    <div nz-row [nzGutter]="24">
      <div nz-col [nzSpan]="12">
        <nz-form-item>
          <nz-form-label nzRequired>Title</nz-form-label>
          <nz-form-control nzErrorTip="Please enter a title">
            <input nz-input formControlName="title" placeholder="e.g. Insubordination Incident" />
          </nz-form-control>
        </nz-form-item>
      </div>
      <div nz-col [nzSpan]="12">
        <nz-form-item>
          <nz-form-label nzRequired>Case Type</nz-form-label>
          <nz-form-control nzErrorTip="Required">
            <nz-select formControlName="caseType">
              <nz-option nzValue="MISCONDUCT" nzLabel="Misconduct"></nz-option>
              <nz-option nzValue="GRIEVANCE" nzLabel="Grievance"></nz-option>
              <nz-option nzValue="PERFORMANCE" nzLabel="Performance"></nz-option>
              <nz-option nzValue="MEDICAL" nzLabel="Medical"></nz-option>
              <nz-option nzValue="OTHER" nzLabel="Other"></nz-option>
            </nz-select>
          </nz-form-control>
        </nz-form-item>
      </div>
    </div>

    <div nz-row [nzGutter]="24">
      <div nz-col [nzSpan]="8">
        <nz-form-item>
          <nz-form-label nzRequired>Priority</nz-form-label>
          <nz-form-control>
            <nz-select formControlName="priority">
              <nz-option nzValue="HIGH" nzLabel="High"></nz-option>
              <nz-option nzValue="MEDIUM" nzLabel="Medium"></nz-option>
              <nz-option nzValue="LOW" nzLabel="Low"></nz-option>
            </nz-select>
          </nz-form-control>
        </nz-form-item>
      </div>
      <div nz-col [nzSpan]="8">
        <nz-form-item>
          <nz-form-label nzRequired>Confidentiality</nz-form-label>
          <nz-form-control>
            <nz-select formControlName="confidentiality">
              <nz-option nzValue="NORMAL" nzLabel="Normal"></nz-option>
              <nz-option nzValue="RESTRICTED" nzLabel="Restricted"></nz-option>
              <nz-option nzValue="CONFIDENTIAL" nzLabel="Confidential"></nz-option>
            </nz-select>
          </nz-form-control>
        </nz-form-item>
      </div>
      <div nz-col [nzSpan]="8">
        <nz-form-item>
          <nz-form-label nzRequired>Reporter Type</nz-form-label>
          <nz-form-control>
            <nz-select formControlName="reporterType">
              <nz-option nzValue="MANAGER" nzLabel="Manager"></nz-option>
              <nz-option nzValue="EMPLOYEE" nzLabel="Employee"></nz-option>
              <nz-option nzValue="HR" nzLabel="HR"></nz-option>
              <nz-option nzValue="ANONYMOUS" nzLabel="Anonymous"></nz-option>
            </nz-select>
          </nz-form-control>
        </nz-form-item>
      </div>
    </div>

    <div nz-row [nzGutter]="24">
      <div nz-col [nzSpan]="12">
        <nz-form-item>
          <nz-form-label nzRequired>Subject Employee</nz-form-label>
          <nz-form-control nzErrorTip="Select subject employee">
            <nz-select formControlName="subjectEmployee" nzShowSearch nzAllowClear nzPlaceHolder="Select employee">
              <nz-option *ngFor="let emp of employees" [nzValue]="emp.id" [nzLabel]="emp.firstName + ' ' + emp.lastName"></nz-option>
            </nz-select>
          </nz-form-control>
        </nz-form-item>
      </div>
      <div nz-col [nzSpan]="12">
        <nz-form-item>
          <nz-form-label nzRequired>Reporter Employee</nz-form-label>
          <nz-form-control nzErrorTip="Select reporter">
            <nz-select formControlName="reporterEmployee" nzShowSearch nzAllowClear nzPlaceHolder="Select employee">
              <nz-option *ngFor="let emp of employees" [nzValue]="emp.id" [nzLabel]="emp.firstName + ' ' + emp.lastName"></nz-option>
            </nz-select>
          </nz-form-control>
        </nz-form-item>
      </div>
    </div>

    <nz-form-item>
      <nz-form-label nzRequired>Summary</nz-form-label>
      <nz-form-control nzErrorTip="Enter summary">
        <textarea nz-input formControlName="summary" rows="4" placeholder="Describe the incident..."></textarea>
      </nz-form-control>
    </nz-form-item>

    <div class="flex justify-end gap-2">
      <button nz-button type="button" (click)="cancel()">Cancel</button>
      <button nz-button nzType="primary" type="submit" [nzLoading]="loading">Create</button>
    </div>
  </form>
</nz-card>
