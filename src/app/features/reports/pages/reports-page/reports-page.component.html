<nz-page-header nzTitle="Reports">
  <nz-page-header-extra>
    <button nz-button>Schedule Report</button>
    <button nz-button nzType="primary">Generate Report</button>
  </nz-page-header-extra>
</nz-page-header>

<div class="page-content">
  <!-- Loading & Error States -->
  <div *ngIf="loading" class="loading-container">
    <nz-spin nzSimple></nz-spin>
  </div>

  <div *ngIf="error" class="error-container">
    <nz-alert nzType="error" [nzMessage]="error" nzShowIcon></nz-alert>
  </div>

  <div *ngIf="!loading && !error">
    <div nz-row [nzGutter]="16">
      <!-- Report Categories -->
      <div nz-col [nzSpan]="8" *ngFor="let category of reportCategories">
        <nz-card [nzTitle]="category.name" [nzExtra]="iconTpl">
          <ul class="report-list">
            <li *ngFor="let report of category.reports">
              <a (click)="generateReport(report)">{{ report }}</a>
            </li>
          </ul>
        </nz-card>
        <ng-template #iconTpl>
          <span nz-icon [nzType]="category.icon" nzTheme="outline"></span>
        </ng-template>
      </div>
    </div>

    <!-- Generated Reports History -->
    <nz-card nzTitle="Recently Generated" class="content-card" style="margin-top: 24px;">
      <nz-table #basicTable [nzData]="recentReports">
        <thead>
          <tr>
            <th>Report Name</th>
            <th>Generated By</th>
            <th>Date</th>
            <th>Status</th>
            <th>Action</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let data of basicTable.data">
            <td>{{ data.name }}</td>
            <td>{{ data.user }}</td>
            <td>{{ data.date }}</td>
            <td>
              <nz-tag [nzColor]="data.status === 'Ready' ? 'success' : 'processing'">{{ data.status }}</nz-tag>
            </td>
            <td>
              <a nz-button nzType="link" [disabled]="data.status !== 'Ready'">Download</a>
            </td>
          </tr>
        </tbody>
      </nz-table>
    </nz-card>
  </div>
</div>
