<nz-sider
  nzCollapsible
  [(nzCollapsed)]="isCollapsed"
  (nzCollapsedChange)="onCollapsedChange($event)"
  [nzTrigger]="null"
  nzBreakpoint="lg"
  nzWidth="230px"
  class="hidden md:block h-full"
>
  <div class="logo">
    @if(isCollapsed) {
        <img src="/images/brand/nerdsmart-logo-mark.png" class="logo-img" />
    } @else {
      <img src="/images/brand/nerdsmart-full-logo.png" class="logo-img" />
    }
  </div>

  <!-- {{portal.value}} -->

  <ul nz-menu nzTheme="dark" nzMode="inline" class="mt-5">
    <li
      nz-menu-item
      routerLink="/app/dashboard"
      routerLinkActive="ant-menu-item-selected"
      [ngClass]="{ 'collapsed-side-li': isCollapsed }"
    >
      <div class="flex flex-row">
        <nz-icon>
          <span class="nerd-sider-menu-icon">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="1.4em"
              height="1.4em"
              viewBox="0 0 24 24"
            >
              <path
                fill="none"
                stroke="currentColor"
                stroke-linejoin="round"
                stroke-width="1.5"
                d="M9.75 3h-4c-.698 0-1.047 0-1.33.086A2 2 0 0 0 3.085 4.42C3 4.703 3 5.052 3 5.75s0 1.047.086 1.33A2 2 0 0 0 4.42 8.415c.284.086.633.086 1.331.086h4c.698 0 1.047 0 1.33-.086a2 2 0 0 0 1.334-1.333c.086-.284.086-.633.086-1.331s0-1.047-.086-1.33a2 2 0 0 0-1.333-1.334C10.797 3 10.448 3 9.75 3ZM21 9.75v-4c0-.698 0-1.047-.086-1.33a2 2 0 0 0-1.333-1.334C19.297 3 18.948 3 18.25 3s-1.047 0-1.33.086a2 2 0 0 0-1.334 1.333c-.086.284-.086.633-.086 1.331v4c0 .698 0 1.047.086 1.33a2 2 0 0 0 1.333 1.334c.284.086.633.086 1.331.086s1.047 0 1.33-.086a2 2 0 0 0 1.334-1.333C21 10.797 21 10.448 21 9.75Zm-4.08 11.164c.283.086.632.086 1.33.086s1.047 0 1.33-.086a2 2 0 0 0 1.334-1.333c.086-.284.086-.633.086-1.331s0-1.047-.086-1.33a2 2 0 0 0-1.333-1.334c-.284-.086-.633-.086-1.331-.086s-1.047 0-1.33.086a2 2 0 0 0-1.334 1.333c-.086.284-.086.633-.086 1.331s0 1.047.086 1.33a2 2 0 0 0 1.333 1.334ZM8.5 11.5H7c-1.886 0-2.828 0-3.414.586S3 13.614 3 15.5V17c0 1.886 0 2.828.586 3.414S5.114 21 7 21h1.5c1.886 0 2.828 0 3.414-.586S12.5 18.886 12.5 17v-1.5c0-1.886 0-2.828-.586-3.414S10.386 11.5 8.5 11.5Z"
              />
            </svg>
          </span>
        </nz-icon>
        <span class="nerd-sider-menu-text">Dashboard</span>
      </div>
    </li>




      <li
        nz-menu-item
        routerLink="/app/employees"
        routerLinkActive="ant-menu-item-selected"
        [ngClass]="{ 'collapsed-side-li': isCollapsed }"
      >
        <div class="flex flex-row">
          <nz-icon>
            <span class="nerd-sider-menu-icon">
              <svg xmlns="http://www.w3.org/2000/svg" width="1.4em" height="1.4em" viewBox="0 0 24 24"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M15 9h3.75M15 12h3.75M15 15h3.75M4.5 19.5h15a2.25 2.25 0 0 0 2.25-2.25V6.75A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25v10.5A2.25 2.25 0 0 0 4.5 19.5m6-10.125a1.875 1.875 0 1 1-3.75 0a1.875 1.875 0 0 1 3.75 0m1.294 6.336a6.7 6.7 0 0 1-3.17.789a6.7 6.7 0 0 1-3.168-.789a3.376 3.376 0 0 1 6.338 0"/></svg>
            </span>
          </nz-icon>
          <span class="nerd-sider-menu-text">Employees</span>
        </div>
      </li>
      <li
        nz-menu-item
        routerLink="/app/onboarding"
        routerLinkActive="ant-menu-item-selected"
        [ngClass]="{ 'collapsed-side-li': isCollapsed }"
      >
        <div class="flex flex-row">
          <nz-icon>
            <span class="nerd-sider-menu-icon">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="1.4em"
                height="1.4em"
                viewBox="0 0 24 24"
              >
                <g
                  fill="none"
                  stroke="currentColor"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="1.5"
                >
                  <path
                    d="M17.506 2.019C12.829 2.835 12 7.5 12 7.5V22s.887-4.873 6-5.441c.55-.061 1-.501 1-1.053V3.393c0-.828-.678-1.517-1.494-1.374M5.333 5c2.46-.003 4.836.887 6.667 2.5V22a10.07 10.07 0 0 0-6.667-2.5c-1.562 0-2.343 0-2.688-.22a1.16 1.16 0 0 1-.424-.425C2 18.51 2 17.895 2 16.663v-8.26c0-1.428 0-2.141.549-2.72c.548-.579 1.11-.609 2.234-.668Q5.056 5 5.333 5"
                  />
                  <path
                    d="M12 22.001a10.07 10.07 0 0 1 6.667-2.5c1.562 0 2.343 0 2.688-.22c.207-.133.291-.218.424-.425c.221-.345.221-.96.221-2.192v-8.26c0-1.428 0-2.141-.549-2.72S20.123 5.06 19 5"
                  />
                </g>
              </svg>
            </span>
          </nz-icon>
          <span class="nerd-sider-menu-text">Onboarding</span>
        </div>
      </li>

      <li
        nz-menu-item
        routerLink="/app/time-and-leave"
        routerLinkActive="ant-menu-item-selected"
        [ngClass]="{ 'collapsed-side-li': isCollapsed }"
      >
        <div class="flex flex-row">
          <nz-icon>
            <span class="nerd-sider-menu-icon" [ngClass]="{ 'active-collapsed': isCollapsed }">
              <svg xmlns="http://www.w3.org/2000/svg" width="1.4em" height="1.4em" viewBox="0 0 24 24"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M18.01 7.49L19.5 6m1 7.5a8.5 8.5 0 1 1-17 0a8.5 8.5 0 0 1 17 0M14.5 2h-5M12 13.5l3.5-3.5"/></svg>
            </span>
          </nz-icon>
          <span class="nerd-sider-menu-text">Time & Leave Config</span>
        </div>
      </li>

      <li
        nz-menu-item
        routerLink="/app/time-and-leave-user"
        routerLinkActive="ant-menu-item-selected"
        [ngClass]="{ 'collapsed-side-li': isCollapsed }"
      >
        <div class="flex flex-row">
          <nz-icon>
            <span class="nerd-sider-menu-icon" [ngClass]="{ 'active-collapsed': isCollapsed }">
              <svg xmlns="http://www.w3.org/2000/svg" width="1.4em" height="1.4em" viewBox="0 0 24 24"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M18.01 7.49L19.5 6m1 7.5a8.5 8.5 0 1 1-17 0a8.5 8.5 0 0 1 17 0M14.5 2h-5M12 13.5l3.5-3.5"/></svg>
            </span>
          </nz-icon>
          <span class="nerd-sider-menu-text">Time & Leave</span>
        </div>
      </li>

      <li
        nz-menu-item
        routerLink="/app/performance-user"
        routerLinkActive="ant-menu-item-selected"
        [ngClass]="{ 'collapsed-side-li': isCollapsed }"
      >
        <div class="flex flex-row">
          <nz-icon>
            <span class="nerd-sider-menu-icon" [ngClass]="{ 'active-collapsed': isCollapsed }">
              <svg xmlns="http://www.w3.org/2000/svg" width="1.4em" height="1.4em" viewBox="0 0 24 24"><path fill="currentColor" d="m12 17.27l4.15 2.51c.76.46 1.69-.22 1.49-1.08l-1.1-4.72l3.67-3.18c.67-.58.31-1.68-.57-1.75l-4.83-.41l-1.89-4.46c-.34-.81-1.5-.81-1.84 0L9.19 8.63l-4.83.41c-.88.07-1.24 1.17-.57 1.75l3.67 3.18l-1.1 4.72c-.2.86.73 1.54 1.49 1.08z"/></svg>
            </span>
          </nz-icon>
          <span class="nerd-sider-menu-text">My Performance</span>
        </div>
      </li>

      <li
        nz-menu-item
        routerLink="/app/health-and-safety"
        routerLinkActive="ant-menu-item-selected"
        [ngClass]="{ 'collapsed-side-li': isCollapsed }"
      >
        <div class="flex flex-row">
          <nz-icon>
            <span class="nerd-sider-menu-icon" [ngClass]="{ 'active-collapsed': isCollapsed }">
              <svg xmlns="http://www.w3.org/2000/svg" width="1.4em" height="1.4em" viewBox="0 0 24 24"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-width="1.5" d="M19.463 3.994c-2.682-1.645-5.023-.983-6.429.073c-.576.433-.864.65-1.034.65s-.458-.217-1.034-.65C9.56 3.011 7.219 2.35 4.537 3.994C1.018 6.152.222 13.274 8.34 19.283c1.546 1.144 2.319 1.716 3.66 1.716s2.114-.572 3.66-1.716c8.118-6.009 7.322-13.13 3.803-15.29ZM12 9v6m-3-3h6"/></svg>
            </span>
          </nz-icon>
          <span class="nerd-sider-menu-text">Health & Safety</span>
        </div>
      </li>
      <li
        nz-menu-item
        routerLink="/app/employee-relations"
        routerLinkActive="ant-menu-item-selected"
        [ngClass]="{ 'collapsed-side-li': isCollapsed }"
      >
        <div class="flex flex-row">
          <nz-icon>
            <span class="nerd-sider-menu-icon">
              <svg xmlns="http://www.w3.org/2000/svg" width="1.4em" height="1.4em" viewBox="0 0 24 24"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5"><path d="M7.5 19.5c0-.966.329-1.942 1.13-2.48A6.04 6.04 0 0 1 12 16c1.248 0 2.407.376 3.37 1.02c.802.538 1.13 1.514 1.13 2.48"/><circle cx="12" cy="11" r="2.5"/><path d="M17.5 11c1.11 0 2.142.377 2.997 1.022c.726.548 1.003 1.473 1.003 2.382v.096"/><circle cx="17.5" cy="6.5" r="2"/><path d="M6.5 11c-1.11 0-2.142.377-2.997 1.022c-.726.548-1.003 1.473-1.003 2.382v.096"/><circle cx="6.5" cy="6.5" r="2"/></g></svg>
            </span>
          </nz-icon>
          <span class="nerd-sider-menu-text">Employee Relations</span>
        </div>
      </li>


      <li
        nz-menu-item
        routerLink="/app/training-and-skills"
        routerLinkActive="ant-menu-item-selected"
        [ngClass]="{ 'collapsed-side-li': isCollapsed }"
      >
        <div class="flex flex-row">
          <nz-icon>
            <span class="nerd-sider-menu-icon">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="1.4em"
                height="1.4em"
                viewBox="0 0 24 24"
              >
                <g fill="none" stroke="currentColor" stroke-width="1.5">
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    d="M12 18v4m-2-4l-5 4m9-4l5 4"
                  />
                  <path
                    d="M2.5 12c0 2.828 0 4.243.879 5.121C4.257 18 5.672 18 8.5 18h7c2.828 0 4.243 0 5.121-.879c.879-.878.879-2.293.879-5.121V8c0-2.828 0-4.243-.879-5.121C19.743 2 18.328 2 15.5 2h-7c-2.828 0-4.243 0-5.121.879C2.5 3.757 2.5 5.172 2.5 8z"
                  />
                  <path stroke-linecap="round" d="M8 13v-3m4 3V7m4 6v-2" />
                </g>
              </svg>
            </span>
          </nz-icon>
          <span class="nerd-sider-menu-text">Training & Skills</span>
        </div>
      </li>

      <li
        nz-menu-item
        routerLink="/app/recruitment"
        routerLinkActive="ant-menu-item-selected"
        [ngClass]="{ 'collapsed-side-li': isCollapsed }"
      >
        <div class="flex flex-row">
          <nz-icon>
            <span class="nerd-sider-menu-icon" [ngClass]="{ 'active-collapsed': isCollapsed }">
              <svg xmlns="http://www.w3.org/2000/svg" width="1.4em" height="1.4em" viewBox="0 0 24 24"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5"><path d="M15 7.5a5 5 0 1 0-10 0a5 5 0 0 0 10 0m6 14L19.5 20m.5-2.5a3 3 0 1 0-6 0a3 3 0 0 0 6 0"/><path d="M3 19.5a7 7 0 0 1 10-6.326"/></g></svg>
            </span>
          </nz-icon>
          <span class="nerd-sider-menu-text">Recruitment</span>
        </div>
      </li>

      <li
        nz-menu-item
        routerLink="/app/performance"
        routerLinkActive="ant-menu-item-selected"
        [ngClass]="{ 'collapsed-side-li': isCollapsed }"
      >
        <div class="flex flex-row">
          <nz-icon>
            <span class="nerd-sider-menu-icon" [ngClass]="{ 'active-collapsed': isCollapsed }">
              <svg xmlns="http://www.w3.org/2000/svg" width="1.4em" height="1.4em" viewBox="0 0 24 24"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5"><path d="M12 22a10 10 0 0 1-10-9.94a10 10 0 0 1 10-10a10 10 0 0 1 10 10a10 10 0 0 1-10 10"/><path d="M12 7v5l3 3"/><path d="m8 2l2 3m4-3l-2 3"/></g></svg>
            </span>
          </nz-icon>
          <span class="nerd-sider-menu-text">Performance Setting</span>
        </div>
      </li>

      <li
        nz-menu-item
        routerLink="/app/reports"
        routerLinkActive="ant-menu-item-selected"
        [ngClass]="{ 'collapsed-side-li': isCollapsed }"
      >
        <div class="flex flex-row">
          <nz-icon>
            <span class="nerd-sider-menu-icon" [ngClass]="{ 'active-collapsed': isCollapsed }">
              <svg xmlns="http://www.w3.org/2000/svg" width="1.4em" height="1.4em" viewBox="0 0 24 24"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5"><path d="M3 4v10c0 2.828 0 4.243.879 5.121C4.757 20 6.172 20 9 20h12"/><path d="m6 14l3.25-3.25c.644-.644.966-.966 1.343-1.072a1.5 1.5 0 0 1 .814 0c.377.106.699.428 1.343 1.072s.966.966 1.343 1.072c.266.076.548.076.814 0c.377-.106.699-.428 1.343-1.072L20 7"/></g></svg>
            </span>
          </nz-icon>
          <span class="nerd-sider-menu-text">Reports</span>
        </div>
      </li>

      <li
        nz-menu-item
        routerLink="/app/settings"
        routerLinkActive="ant-menu-item-selected"
        [ngClass]="{ 'collapsed-side-li': isCollapsed }"
      >
        <div class="flex flex-row">
          <nz-icon>
            <span class="nerd-sider-menu-icon">
              <svg xmlns="http://www.w3.org/2000/svg" width="1.4em" height="1.4em" viewBox="0 0 24 24"><g fill="none" stroke="currentColor" stroke-width="1.5"><ellipse cx="11" cy="5" rx="8" ry="3"/><path stroke-linecap="round" d="M6 10.842c.602.18 1.274.33 2 .44M3 12c0 1.53 3.054 2.792 7 2.977m-4 2.865c.602.18 1.274.33 2 .44"/><path stroke-linecap="round" stroke-linejoin="round" d="M11 22c-4.418 0-8-1.343-8-3V5m16 0v6"/><path stroke-linecap="round" d="M17 20.714V22m0-1.286a3.36 3.36 0 0 1-2.774-1.43M17 20.713a3.36 3.36 0 0 0 2.774-1.43M17 14.285c1.157 0 2.176.568 2.774 1.43M17 14.287a3.36 3.36 0 0 0-2.774 1.43M17 14.287V13m4 1.929l-1.226.788M13 20.07l1.226-.788M13 14.93l1.226.788M21 20.07l-1.226-.788m0-3.566a3.12 3.12 0 0 1 0 3.566m-5.548-3.566a3.12 3.12 0 0 0 0 3.566"/></g></svg>
            </span>
          </nz-icon>
          <span class="nerd-sider-menu-text">Employee Master Data</span>
        </div>
      </li>



    <div class="trigger-div absolute bottom-0 left-0 w-full flex justify-center pb-4">
      <div class="flex flex-col">
        <div
          class="nav-user-area flex flex-row items-center gap-3 user-menu"
          nz-dropdown
          [nzDropdownMenu]="userMenu"
          [nzPlacement]="'topRight'"
        >
          <div>
            <nz-avatar
              [nzText]="
                (user?.username ?? '').charAt(0) + (user?.username ?? '').charAt(0)
              "
              style="color: #f56a00; background-color: #fde3cf"
            ></nz-avatar>
          </div>
          @if (!isCollapsed) {
            <div>
              <div class="flex flex-col leading-tight">
                <div class="nav-user-name">
                  {{ user!.username }}
                </div>
                <div class="nav-user-email">{{ user!.email }}</div>
              </div>
            </div>
          }
        </div>
        <nz-dropdown-menu #userMenu="nzDropdownMenu">
          <ul nz-menu>
            <li nz-menu-item (click)="navigate('/app/profile/user')">Account Settings</li>
            <li nz-menu-item (click)="logout()">Logout</li>
          </ul>
        </nz-dropdown-menu>

<!--                <div class="nav-mode-toggler-area">-->
<!--                  @if (isCollapsed) {-->
<!--                    <nz-segmented-->
<!--                      [nzOptions]="partOptions"-->
<!--                      (nzValueChange)="selectMode($event)"-->
<!--                      [ngModel]="selectedMode"-->
<!--                      nzVertical-->
<!--                    />-->
<!--                  } @else {-->
<!--                    <nz-segmented-->
<!--                      [nzOptions]="fullOptions"-->
<!--                      (nzValueChange)="selectMode($event)"-->
<!--                      [ngModel]="selectedMode"-->
<!--                    />-->
<!--                  }-->
<!--                </div>-->

        <div class="side-nav-toggler">
          <nz-icon class="trigger" (click)="isCollapsed = !isCollapsed">
            @if (isCollapsed) {
              <span>
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="1.4em"
                  height="1.4em"
                  viewBox="0 0 24 24"
                >
                  <g fill="none" stroke="currentColor" stroke-linecap="round" stroke-width="1.5">
                    <path d="M20 18V6" />
                    <path stroke-linejoin="round" d="M16 12H4m8-4s4 2.946 4 4s-4 4-4 4" />
                  </g>
                </svg>
              </span>
            }

            @if (!isCollapsed) {
              <span>
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="1.4em"
                  height="1.4em"
                  viewBox="0 0 24 24"
                >
                  <g fill="none" stroke="currentColor" stroke-linecap="round" stroke-width="1.5">
                    <path d="M4 6v12" />
                    <path stroke-linejoin="round" d="M8 12h12m-8-4s-4 2.946-4 4s4 4 4 4" />
                  </g>
                </svg>
              </span>
            }
          </nz-icon>
        </div>
      </div>
    </div>
  </ul>
</nz-sider>
